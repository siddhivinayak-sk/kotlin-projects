spring:
  application:
    name: ai
  main:
    banner-mode: off
  ai:

# MCP Server  Configuration
    mcp:
      server:
        enabled: true
        stdio: false
        name: my-mcp-server
        version: 1.0.0
        instructions: You are a helpful assistant.
        type: SYNC
        protocol: STATELESS
        resource-change-notification: true
        prompt-change-notification: true
        tool-change-notification: true
        sse-message-endpoint: /mcp/message
        sse-endpoint: /sse
        base-url: /
        request-timeout: 30s
        capabilities:
          resource: true
          tool: true
          prompt: true
          completion: true
# MCP Client Configuration
      client:
        enabled: false
        name: my-mcp-client
        version: 1.0.0
        initialized: true
        request-timeout: 30s
        type: SYNC
        root-change-notification: true
#        sse:
#          connections:
#            server1:
#              url: http://localhost:8080
#              sse-endpoint: /sse
        stdio:
          root-change-notification: false
          connections:
#            other-tools:
#              servers-configuration: classpath:mcp-servers.json
            spring-ai-tools:
              command: java
              args:
                - -Dspring.ai.mcp.server.stdio=true
                - -Dspring.main.web-application-type=none
                - -Dlogging.pattern.console=
                - -jar
                - ./build/libs/ai-0.0.1-SNAPSHOT.jar
              env:
                DEBUG: "true"

# Configure Chat and Embedding models
app:
  chat:
    enabled: true
  chat-memory-count: 20
  chat-memory-type: PROMPT
  models:
    openai:
      enabled: false
      model-type: OAI_GPT_4_1
      base-url: ${AZURE_OPENAI_ENDPOINT}
      model-name: ${AZURE_OPENAI_DEPLOYMENT}
      api-key: ${AZURE_OPENAI_API_KEY}
      system-prompt: You are a helpful assistant.
      user-prompt: developer
      max-tokens: 2048
      maxCompletionTokens: 1024
      top-p: 1.0
      frequency-penalty: 0.0
      presence-penalty: 0.0
      n: 1
      temperature: 0.7
    ollama:
      enabled: true
      model-type: OLLAMA_LLM
      base-url: http://localhost:11434
      model-name: gemma3
      system-prompt: You are a helpful assistant.
      user-prompt: developer
      max-tokens: 2048
      top-p: 1.0
      frequency-penalty: 0.0
      presence-penalty: 0.0
      n: 40
      temperature: 0.7
  embeddings:
    text-embedding-3-large:
      enabled: false
      model-type: OAI_TEXT_EMBEDDING_3_LARGE
      base-url: ${AZURE_OPENAI_ENDPOINT}
      model-name: ${AZURE_OPENAI_EM_DEPLOYMENT}
      api-key: ${AZURE_OPENAI_API_KEY}
      user: dev-0
    postgres-ml:
      enabled: true
      model-type: POSTGRES_ML_DISTILBERT_BASE_UNCASED
      #transformer: "distilbert-base-uncased"
      #transformer: sentence-transformers/all-MiniLM-L6-v2
      transformer: BAAI/bge-m3
      kwargs:
        device: cpu

# Configure vector database
vector:
  azureAiSearch:
    enabled: false
    endpoint: ${AZURE_AI_SEARCH_ENDPOINT}
    api-key: ${AZURE_AI_SEARCH_KEY}
    index-name: test-index
    initializationSchema: true
#    metadataFields:
#      country: text
#      year: int64
#      activationDate: date
  milvus:
    enabled: false
    host: localhost
    port: 19530
    database: default
    collectionName: my_collection
    username: root
    password: Milvus
    initializationSchema: true
    embeddingDimension: 3072
  pg:
    enabled: true
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5433/postgresml}
    username: ${SPRING_DATASOURCE_USERNAME:postgresml}
    password: ${SPRING_DATASOURCE_PASSWORD:postgresml}
    #dimensions: 768 # distilbert-base-uncased
    #dimensions: 384 # all-MiniLM-L6-v2
    dimensions: 1024 # BAAI/bge-m3

# Index content from various file types to vector database
content:
  pdf:
    enabled: false
    input-directory: ./input/pdf
    pagesPerDocument: 1
    paragraph: false
    extensions: pdf
#    transformers:
#      splitter:
#        defaultChunkSize: 1000
#      keyword:
#        keywordCount: 20
#      summary:
#        summaryTypes: CURRENT
  json:
    enabled: false
    input-directory: ./input/json
    txtField: description
    extensions: json
  txt:
    enabled: false
    input-directory: ./input/txt
    extensions: txt
  html:
    enabled: false
    input-directory: ./input/html
    extensions: html
  md:
    enabled: false
    input-directory: ./input/md
    extensions: md
  tika:
    enabled: false
    input-directory: ./input/tika
    extensions: pdf,doc,docx,ppt,pptx,xls,xlsx,odt,rtf,txt,html,html,md

logging:
  file:
    name: ./build/logs/ai.log

#debug: true